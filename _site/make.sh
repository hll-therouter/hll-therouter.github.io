#!/bin/bash

bundle exec jekyll serve

#### 对应的kotlin代码逻辑
# private fun test(folder: File) {
#     if (folder.isDirectory) {
#         val files = folder.listFiles()
#         if (files != null) {
#             for (file in files) {
#                 test(file)
#             }
#         }
#     } else {
#         if (folder.name.endsWith(".html")) {
#             val content = folder.readText()
#                     .replace("</html>", "")
#                     .replace("</body>", "")
#                     .replace("<div></div>", "")
#                     .replace("<span>router</span>", "<span>TheRouter API 文档</span>")
#                     .replace("Link copied to clipboard", "链接已复制到剪贴板")
#                     .replace("class=\"main-content\"", "class=\"api-main-content\"")
#                     .replace("<div class=\"footer\"><span class=\"go-to-top-icon\"><a href=\"#content\" id=\"go-to-top-link\"></a></span><span>© 2024 Copyright</span><span class=\"pull-right\"><span>Generated by </span><a href=\"https://github.com/Kotlin/dokka\"><span>dokka</span><span class=\"padded-icon\"></span></a></span></div>", "")

#             val continerHtml = "<div id=\"container\">"
#             val start = content.indexOf(continerHtml)
#             if (start > 0) {
#                 val text = "---\nlayout: default_api\n---\n\n\n${content.subSequence(start, content.length)}\n\n"
#                 folder.writeText(text)
#             } else {
#                 println(folder.absolutePath)
#             }
#         }
#     }
# }

